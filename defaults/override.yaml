# this config is used to override the original Clash/Mihomo config file
# 此处设置用于覆盖原始的 Clash/Mihomo 配置文件

dns-override:
  # dns config to override if dns-override is enabled
  # 启用 DNS 覆盖后采用
  enable: true
  ipv6: false
  respect-rules: true
  enhanced-mode: redir-host
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 'tls://dns.alidns.com'
    - 'https://dns.alidns.com/dns-query'
  proxy-server-nameserver:
    - 223.5.5.5
    - 119.29.29.29
    - 'tls://dns.alidns.com'
    - 'https://dns.alidns.com/dns-query'
  nameserver-policy:
    'geosite:gfw':
      - 8.8.8.8
      - 1.1.1.1
      - 'tls://8.8.8.8'
      - 'tls://1.1.1.1'
    'geosite:private':
      - system

fake-ip-dns:
  # dns config to override if fake-ip is enabled
  # 启用 Fake-IP 后采用
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.0/16
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - '*.lan'
    - '*.localdomain'
    - '*.localhost'
    - '*.local'
    - '*.home.arpa'
    - stun.*.*
    - stun.*.*.*
    - +.stun.*.*
    - +.stun.*.*.*
    - +.stun.*.*.*.*

redir-host-dns:
  # dns config to override if redir-host is enabled
  # 启用 Redir-Host 后采用
  enhanced-mode: redir-host

tun-override:
  # tun config to override anyway
  # Tun 配置覆盖, 无论如何都会启用
  enable: true
  stack: mixed
  auto-redirect: true
  auto-detect-interface: true

always-override:
  # config to override anyway
  # 总是覆盖
  unified-delay: true
  profile:
    store-selected: true
    store-fake-ip: true

skip-steam-rules:
  # skip steam download cdn detect rules
  # 跳过 Steam 下载 CDN 探测 URL 的规则
  - DOMAIN-SUFFIX,cm.steampowered.com,DIRECT
  - DOMAIN-SUFFIX,steamserver.net,DIRECT
